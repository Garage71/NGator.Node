{"version":3,"sources":["services/rsssources.ts"],"names":[],"mappings":";AAIA,MAAY,KAAK,WAAM,OAAO,CAAC,CAAA;AAE/B;IAEQ;QACI,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAqC,CAAC;IAC9E,CAAC;IACD,aAAa,CAAC,KAAoC;QAC9C,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;QAC1B,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,IAAI,QAAQ,GAAkC,EAAE,CAAC;YAEjD,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;gBAChC,IAAI,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC7E,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;oBACb,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC9B,CAAC;YACL,CAAC;YAED,MAAM,GAAG;gBACL,UAAU,EAAE,QAAQ;aACvB,CAAC;QACN,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;AACL,CAAC;AAxBQ,kBAAU,aAwBlB,CAAA;AAEL;kBAAe,UAAU,CAAC","file":"services/rsssources.js","sourcesContent":["/**\r\n* Rss sources service\r\n*/\r\nimport * as sharedInterfaces from '../shared/interfaces';\r\nimport * as nconf from 'nconf';\r\n\r\nexport class RssSources {\r\n        private sources: sharedInterfaces.IRSSSources;\r\n        constructor() {\r\n            let provider = nconf.file('appconfig.json');\r\n            this.sources = provider.stores.file.store as sharedInterfaces.IRSSSources;\r\n        }\r\n        getRssSources(sites?: sharedInterfaces.IRSSSources): sharedInterfaces.IRSSSources {\r\n            let result = this.sources;\r\n            if (sites) {\r\n                let filtered: sharedInterfaces.IRSSSource[] = [];\r\n\r\n                for (let site of sites.rsssources) {\r\n                    let ofFiltered = result.rsssources.find(source => source.name === site.name);\r\n                    if (ofFiltered) {\r\n                        filtered.push(ofFiltered);\r\n                    }\r\n                }\r\n\r\n                result = {\r\n                    rsssources: filtered\r\n                };\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nexport default RssSources;"],"sourceRoot":"/source/"}